# Обработчик зарплат сотрудников

## Описание проекта

Проект представляет собой Windows Forms приложение для обработки и управления данными о зарплатах сотрудников. Приложение выполняет XSLT-трансформацию XML-файлов, вычисляет итоговые суммы выплат и предоставляет удобный интерфейс для добавления новых выплат.

## Функциональность

### Основные возможности:
- **XSLT-трансформация** - преобразование исходных XML-файлов в структурированный формат
- **Автоматический расчет** - вычисление общих сумм выплат по сотрудникам и месяцам
- **Визуализация данных** - табличное отображение зарплат с группировкой по месяцам
- **Управление выплатами** - добавление новых выплат существующим и новым сотрудникам
- **Динамическое добавление месяцев** - возможность расширять список месяцев для выплат

### Технические особенности:
- Многопоточная обработка данных
- Валидация входных данных
- Предотвращение дублирования записей
- Логирование операций
- Конфигурирование через JSON

## Требования

- .NET 8.0 или выше
- Windows OS (Windows Forms приложение)
- Совместимая среда разработки (Visual Studio 2022+)

## Структура проекта

```
EmployeeSalaryProcessor/
├── Core/                   # Ядро приложения
│   ├── Entities/           # Сущности предметной области
│   ├── Services/           # Интерфейсы и реализации сервисов
│   ├── Contracts/          # DTO и модели данных
│   └── Utilities/          # Вспомогательные утилиты
├── Data/                   # Работа с данными
│   └── Xml/                # XML-обработчики
├── Forms/                  # Пользовательский интерфейс
│   ├── MainForm.cs         # Главная форма
│   └── AddPaymentForm.cs   # Форма добавления выплат
└── Input/                  # Входные XML-файлы, XSLT-преобразования 
```

## Установка и запуск

1. **Клонирование репозитория**
   ```bash
   git clone https://github.com/Chex4ever/Reformator
   cd EmployeeSalaryProcessor
   ```

2. **Восстановление зависимостей**
   ```bash
   dotnet restore
   ```

3. **Сборка проекта**
   ```bash
   dotnet build
   ```

4. **Запуск приложения**
   ```bash
   dotnet run
   ```

## Использование

### Основной workflow:

1. **Загрузка данных** - выберите исходный XML-файл и XSLT-преобразование
2. **Обработка** - запустите трансформацию и расчет итоговых сумм
3. **Просмотр** - анализируйте данные в табличном представлении
4. **Добавление выплат** - используйте форму для внесения новых данных
5. **Сохранение** - изменения автоматически сохраняются в XML-файл

### Формат входных данных:

Исходный XML-файл должен содержать структуру:
```xml
<Pay>
  <item name="Имя" surname="Фамилия" amount="1000.00" mount="month_name" />
  ...
</Pay>
```

## Реализованные требования тестового задания

### ✅ Обязательные функции:
1. **XSLT-преобразование** - реализовано через `DataX_to_Employees.xslt`
2. **Добавление атрибутов суммы** - автоматический расчет totalSalary
3. **Добавление общей суммы в Pay** - вычисление totalAmount
4. **GUI с отображением данных** - главная форма с DataGridView
5. **Добавление новых item'ов** - форма управления выплатами

### ✅ Дополнительные улучшения:
- Валидация входных данных
- Предотвращение дублирования записей
- Поддержка различных числовых форматов
- Логирование операций
- Конфигурируемый интерфейс
- Асинхронная обработка

## Архитектура

### Основные компоненты:
- **MainForm** - главная форма приложения
- **AddPaymentForm** - форма управления выплатами
- **IXmlProcessor** - сервис работы с XML
- **IEmployeeDataService** - сервис бизнес-логики
- **AppConfig** - конфигурация приложения

### Принципы проектирования:
- Dependency Injection
- Separation of Concerns
- Async/Await pattern
- SOLID principles

## Время выполнения

**Общее время разработки:** ~7 часов

Распределение времени:
- Анализ требований и xml, написание xslt: 1 час
- Проектирование архитектуры и реализация core-функциональности: 2 часа
- Создание UI: 2 часа
- Тестирование и отладка: 2 часа

## Возможные улучшения

1. **Экспорт данных** - поддержка Excel/PDF выгрузки
2. **Валидация схемы** - XSD-валидация входных файлов
3. **История изменений** - журналирование операций
4. **Резервное копирование** - автоматическое создание бэкапов
5. **Мультиязычность** - поддержка различных языков интерфейса

## Разработчик

**Евгений** 
- Email: 4ex4ever@mail.ru
- Telegram: @ex4ever

---

*Тестовое задание выполнено для вакансии XML/XSLT-разработчик в Контуре*
